{"hash":"23c5a0808afcefbf6c87f6b9ce8de4ac23bfba70","data":{"post":{"title":"Vue.js and Sitecore MVC","description":"How to develop Vue.js and Sitecore MVC applications","date":"October 3, 2019","timeToRead":2,"content":"<p>There are many articles about using Vue.js with Sitecore, but they are mainly for JSS implementations.</p>\n<p>The problem with integrating modern JS frameworks with Sitecore is the need to define your markup in razor view files. This is so that you can use the Sitecore HtmlHelper extension methods to render content so that it can be editable in the experience editor.</p>\n<pre class=\"shiki\" style=\"background-color: #2e3440ff\"><code><span class=\"line\"><span style=\"color: #D8DEE9\">@Html</span><span style=\"color: #ECEFF4\">.</span><span style=\"color: #88C0D0\">Sitecore</span><span style=\"color: #ECEFF4\">().</span><span style=\"color: #88C0D0\">Field</span><span style=\"color: #ECEFF4\">(</span><span style=\"color: #ECEFF4\">&quot;</span><span style=\"color: #A3BE8C\">FieldName</span><span style=\"color: #ECEFF4\">&quot;</span><span style=\"color: #ECEFF4\">)</span></span></code></pre>\n<p>There are a few ways you can declare components with Vue.js, but these require you define your HTML template within a script. The most common method being <a href=\"https://vuejs.org/v2/guide/single-file-components.html\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">single file components</a>. This requires you to define your template within a <em>.vue</em> file, but this will prevent content from being editable within the experience editor.</p>\n<p>So can you use Vue.js with regular Sitecore MVC builds without losing the experience editor capabilities?</p>\n<p>Yes, using <a href=\"https://vuejs.org/v2/guide/components-slots.html\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">slots</a> works very well. Slots enable you to define your template in the razor view, and then access them from the <em>.vue</em> file. There are 2 ways you can use slots, or a combination of both:</p>\n<h2 id=\"option-1---scoped-slots\"><a href=\"#option-1---scoped-slots\" aria-hidden=\"true\" tabindex=\"-1\"><span class=\"icon icon-link\"></span></a>Option 1 - <a href=\"https://vuejs.org/v2/guide/components-slots.html#Scoped-Slots\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Scoped slots</a></h2>\n<ul>\n<li><strong>Advantages</strong> - HTML is defined all in one place</li>\n<li><strong>Disadvantages</strong> - The render method is quite complex, need to map data/props to access in the scoped slot</li>\n</ul>\n<p><strong>mycomponent.cshtml</strong></p>\n<pre class=\"shiki\" style=\"background-color: #2e3440ff\"><code><span class=\"line\"><span style=\"color: #81A1C1\">&lt;mycomponent</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">v-slot</span><span style=\"color: #ECEFF4\">=</span><span style=\"color: #ECEFF4\">&quot;</span><span style=\"color: #D8DEE9\">data</span><span style=\"color: #ECEFF4\">&quot;</span><span style=\"color: #81A1C1\">&gt;</span></span>\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">    </span><span style=\"color: #81A1C1\">&lt;div&gt;</span></span>\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">      </span><span style=\"color: #81A1C1\">&lt;p&gt;</span><span style=\"color: #D8DEE9FF\">@Html.Glass().Editable(m =&gt; m.Message) - </span><span style=\"color: #ECEFF4\">{{</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #D8DEE9\">data</span><span style=\"color: #ECEFF4\">.</span><span style=\"color: #D8DEE9\">message</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #ECEFF4\">}}</span><span style=\"color: #81A1C1\">&lt;/p&gt;</span></span>\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">      </span><span style=\"color: #81A1C1\">&lt;p&gt;</span><span style=\"color: #D8DEE9FF\">@Html.Glass().Editable(m =&gt; m.Text)</span><span style=\"color: #81A1C1\">&lt;/p&gt;</span></span>\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">    </span><span style=\"color: #81A1C1\">&lt;/div&gt;</span></span>\n<span class=\"line\"><span style=\"color: #81A1C1\">&lt;/mycomponent&gt;</span></span></code></pre>\n<p><strong>mycomponent.js</strong></p>\n<pre class=\"shiki\" style=\"background-color: #2e3440ff\"><code><span class=\"line\"><span style=\"color: #D8DEE9FF\">module.exports = {</span></span>\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">    data: function() {</span></span>\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">        return {</span></span>\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">            message: &quot;This is a message&quot;</span></span>\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">        }</span></span>\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">    },  </span></span>\n\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">    render(createElement) {</span></span>\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">        if (this.$scopedSlots != null &amp;&amp; this.$scopedSlots.default != null)</span></span>\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">        {</span></span>\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">            return createElement(&quot;div&quot;, { class: &quot;my-component&quot; }, this.$scopedSlots.default({</span></span>\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">                message: this.message</span></span>\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">            }));</span></span>\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">        }</span></span>\n\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">        return createElement(&quot;div&quot;, &quot;NO DEFAULT SLOT FOUND - PLEASE DEFINE THE HTML FOR THIS COMPONENT&quot;);</span></span>\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">    }</span></span>\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">};</span></span></code></pre>\n<h2 id=\"options-2---named-slots\"><a href=\"#options-2---named-slots\" aria-hidden=\"true\" tabindex=\"-1\"><span class=\"icon icon-link\"></span></a>Options 2 - <a href=\"https://vuejs.org/v2/guide/components-slots.html#Named-Slots\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Named slots</a></h2>\n<ul>\n<li><strong>Advantages</strong> - As close as you can get to Single File Components</li>\n<li><strong>Disadvantages</strong> - Could end up passing through a lot of fields</li>\n</ul>\n<p><strong>.cshtml</strong></p>\n<pre class=\"shiki\" style=\"background-color: #2e3440ff\"><code><span class=\"line\"><span style=\"color: #81A1C1\">&lt;</span><span style=\"color: #D8DEE9\">mycomponent</span><span style=\"color: #81A1C1\">&gt;</span></span>\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">    </span><span style=\"color: #81A1C1\">&lt;template</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">v-slot:message</span><span style=\"color: #81A1C1\">&gt;</span></span>\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">        @Html.Glass().Editable(m =&gt; m.Message)</span></span>\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">    </span><span style=\"color: #81A1C1\">&lt;/template&gt;</span></span>\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">    </span><span style=\"color: #81A1C1\">&lt;template</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">v-slot:text</span><span style=\"color: #81A1C1\">&gt;</span></span>\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">        @Html.Glass().Editable(m =&gt; m.Text)</span></span>\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">    </span><span style=\"color: #81A1C1\">&lt;/template&gt;</span></span>\n<span class=\"line\"><span style=\"color: #81A1C1\">&lt;/</span><span style=\"color: #D8DEE9\">mycomponent</span><span style=\"color: #81A1C1\">&gt;</span></span></code></pre>\n<p><strong>mycomponent.vue</strong></p>\n<pre class=\"shiki\" style=\"background-color: #2e3440ff\"><code><span class=\"line\"><span style=\"color: #81A1C1\">&lt;template&gt;</span></span>\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">  </span><span style=\"color: #81A1C1\">&lt;div&gt;</span></span>\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">    </span><span style=\"color: #81A1C1\">&lt;p&gt;&lt;slot</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">name</span><span style=\"color: #D8DEE9FF\">=</span><span style=\"color: #ECEFF4\">&quot;</span><span style=\"color: #A3BE8C\">message</span><span style=\"color: #ECEFF4\">&quot;</span><span style=\"color: #D8DEE9FF\"> /</span><span style=\"color: #81A1C1\">&gt;</span><span style=\"color: #D8DEE9FF\"> - { { message } }</span><span style=\"color: #81A1C1\">&lt;/p&gt;</span></span>\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">    </span><span style=\"color: #81A1C1\">&lt;p&gt;&lt;slot</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">name</span><span style=\"color: #D8DEE9FF\">=</span><span style=\"color: #ECEFF4\">&quot;</span><span style=\"color: #A3BE8C\">text</span><span style=\"color: #ECEFF4\">&quot;</span><span style=\"color: #D8DEE9FF\"> /</span><span style=\"color: #81A1C1\">&gt;&lt;/p&gt;</span></span>\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">  </span><span style=\"color: #81A1C1\">&lt;/div&gt;</span></span>\n<span class=\"line\"><span style=\"color: #81A1C1\">&lt;/template&gt;</span></span>\n\n<span class=\"line\"><span style=\"color: #81A1C1\">&lt;style</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">scoped</span><span style=\"color: #81A1C1\">&gt;</span></span>\n<span class=\"line\"><span style=\"color: #81A1C1\">&lt;/style&gt;</span></span>\n\n<span class=\"line\"><span style=\"color: #81A1C1\">&lt;script&gt;</span></span>\n<span class=\"line\"><span style=\"color: #8FBCBB\">module</span><span style=\"color: #ECEFF4\">.</span><span style=\"color: #8FBCBB\">exports</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">=</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #ECEFF4\">{</span></span>\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">    </span><span style=\"color: #88C0D0\">data</span><span style=\"color: #ECEFF4\">:</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">function</span><span style=\"color: #ECEFF4\">()</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #ECEFF4\">{</span></span>\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">        </span><span style=\"color: #81A1C1\">return</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #ECEFF4\">{</span></span>\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">            </span><span style=\"color: #88C0D0\">message</span><span style=\"color: #ECEFF4\">:</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #ECEFF4\">&quot;</span><span style=\"color: #A3BE8C\">This is a message</span><span style=\"color: #ECEFF4\">&quot;</span></span>\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">        </span><span style=\"color: #ECEFF4\">}</span></span>\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">    </span><span style=\"color: #ECEFF4\">}</span></span>\n<span class=\"line\"><span style=\"color: #ECEFF4\">}</span></span>\n<span class=\"line\"><span style=\"color: #81A1C1\">&lt;/script&gt;</span></span></code></pre>\n<h2 class=\"text-lg\">Conclusion</h2>\n<p>Option 1 using named slots to pass through fields is as close to Vue as you can get and using Single File Components. Some situations could end up using a combination of both.</p>\n<p>Either way, Vue.js is ready to use for Sitecore MVC builds.</p>\n","tags":[{"title":"sitecore","path":"/tag/sitecore/"}],"references":[],"path":"/vuejs-sitecore-mvc/"}},"context":{}}